<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Element of a scene derived from a single archetype query."><title>ViewPartSystem in re_viewer_context - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-9bb858ba049f1f21.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="re_viewer_context" data-themes="" data-resource-suffix="" data-rustdoc-version="1.72.1 (d5c2e9c34 2023-09-13)" data-channel="1.72.1" data-search-js="search-f6292fe389d70017.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ><script src="../static.files/storage-59fd9b8ccb335783.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../re_viewer_context/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../re_viewer_context/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">ViewPartSystem</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.as_any">as_any</a></li><li><a href="#tymethod.execute">execute</a></li><li><a href="#tymethod.required_components">required_components</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.data">data</a></li><li><a href="#method.heuristic_filter">heuristic_filter</a></li><li><a href="#method.indicator_components">indicator_components</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In re_viewer_context</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="index.html">re_viewer_context</a>::<wbr><a class="trait" href="#">ViewPartSystem</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/re_viewer_context/space_view/view_part_system.rs.html#15-79">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait ViewPartSystem {
    // Required methods
    fn <a href="#tymethod.required_components" class="fn">required_components</a>(&amp;self) -&gt; <a class="type" href="../re_types/loggable/type.ComponentNameSet.html" title="type re_types::loggable::ComponentNameSet">ComponentNameSet</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.execute" class="fn">execute</a>(
        &amp;mut self,
        ctx: &amp;mut <a class="struct" href="viewer_context/struct.ViewerContext.html" title="struct re_viewer_context::viewer_context::ViewerContext">ViewerContext</a>&lt;'_&gt;,
        query: &amp;<a class="struct" href="space_view/view_query/struct.ViewQuery.html" title="struct re_viewer_context::space_view::view_query::ViewQuery">ViewQuery</a>&lt;'_&gt;,
        view_ctx: &amp;<a class="struct" href="space_view/view_context_system/struct.ViewContextCollection.html" title="struct re_viewer_context::space_view::view_context_system::ViewContextCollection">ViewContextCollection</a>
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.72.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.72.1/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../re_renderer/queuable_draw_data/struct.QueueableDrawData.html" title="struct re_renderer::queuable_draw_data::QueueableDrawData">QueueableDrawData</a>&gt;, <a class="enum" href="space_view/enum.SpaceViewSystemExecutionError.html" title="enum re_viewer_context::space_view::SpaceViewSystemExecutionError">SpaceViewSystemExecutionError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.as_any" class="fn">as_any</a>(&amp;self) -&gt; &amp;dyn <a class="trait" href="https://doc.rust-lang.org/1.72.1/core/any/trait.Any.html" title="trait core::any::Any">Any</a>;

    // Provided methods
    fn <a href="#method.indicator_components" class="fn">indicator_components</a>(&amp;self) -&gt; <a class="type" href="../re_types/loggable/type.ComponentNameSet.html" title="type re_types::loggable::ComponentNameSet">ComponentNameSet</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.heuristic_filter" class="fn">heuristic_filter</a>(
        &amp;self,
        _store: &amp;<a class="struct" href="../re_arrow_store/store/struct.DataStore.html" title="struct re_arrow_store::store::DataStore">DataStore</a>,
        _ent_path: &amp;<a class="struct" href="../re_log_types/path/entity_path/struct.EntityPath.html" title="struct re_log_types::path::entity_path::EntityPath">EntityPath</a>,
        _query: &amp;<a class="struct" href="../re_arrow_store/store_read/struct.LatestAtQuery.html" title="struct re_arrow_store::store_read::LatestAtQuery">LatestAtQuery</a>,
        entity_components: &amp;<a class="type" href="../re_types/loggable/type.ComponentNameSet.html" title="type re_types::loggable::ComponentNameSet">ComponentNameSet</a>
    ) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.72.1/std/primitive.bool.html">bool</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.data" class="fn">data</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.72.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;dyn <a class="trait" href="https://doc.rust-lang.org/1.72.1/core/any/trait.Any.html" title="trait core::any::Any">Any</a>&gt; { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Element of a scene derived from a single archetype query.</p>
<p>Is populated after scene contexts and has access to them.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.required_components" class="method"><a class="srclink rightside" href="../src/re_viewer_context/space_view/view_part_system.rs.html#21">source</a><h4 class="code-header">fn <a href="#tymethod.required_components" class="fn">required_components</a>(&amp;self) -&gt; <a class="type" href="../re_types/loggable/type.ComponentNameSet.html" title="type re_types::loggable::ComponentNameSet">ComponentNameSet</a></h4></section></summary><div class="docblock"><p>Returns the minimal set of components that the system <em>requires</em> in order to be instantiated.</p>
<p>This does not include indicator components.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.execute" class="method"><a class="srclink rightside" href="../src/re_viewer_context/space_view/view_part_system.rs.html#62-67">source</a><h4 class="code-header">fn <a href="#tymethod.execute" class="fn">execute</a>(
    &amp;mut self,
    ctx: &amp;mut <a class="struct" href="viewer_context/struct.ViewerContext.html" title="struct re_viewer_context::viewer_context::ViewerContext">ViewerContext</a>&lt;'_&gt;,
    query: &amp;<a class="struct" href="space_view/view_query/struct.ViewQuery.html" title="struct re_viewer_context::space_view::view_query::ViewQuery">ViewQuery</a>&lt;'_&gt;,
    view_ctx: &amp;<a class="struct" href="space_view/view_context_system/struct.ViewContextCollection.html" title="struct re_viewer_context::space_view::view_context_system::ViewContextCollection">ViewContextCollection</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.72.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.72.1/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../re_renderer/queuable_draw_data/struct.QueueableDrawData.html" title="struct re_renderer::queuable_draw_data::QueueableDrawData">QueueableDrawData</a>&gt;, <a class="enum" href="space_view/enum.SpaceViewSystemExecutionError.html" title="enum re_viewer_context::space_view::SpaceViewSystemExecutionError">SpaceViewSystemExecutionError</a>&gt;</h4></section></summary><div class="docblock"><p>Queries the data store and performs data conversions to make it ready for display.</p>
<p>Musn’t query any data outside of the archetype.</p>
<p>TODO(andreas): don’t pass in <code>ViewerContext</code> if we want to restrict the queries here.
If we want to make this restriction, then the trait-contract should be that something external
to the <code>ViewPartSystemImpl</code> does the query and then passes an <code>ArchetypeQueryResult</code> into populate.</p>
</div></details><section id="tymethod.as_any" class="method"><a class="srclink rightside" href="../src/re_viewer_context/space_view/view_part_system.rs.html#78">source</a><h4 class="code-header">fn <a href="#tymethod.as_any" class="fn">as_any</a>(&amp;self) -&gt; &amp;dyn <a class="trait" href="https://doc.rust-lang.org/1.72.1/core/any/trait.Any.html" title="trait core::any::Any">Any</a></h4></section></div><h2 id="provided-methods" class="small-section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.indicator_components" class="method"><a class="srclink rightside" href="../src/re_viewer_context/space_view/view_part_system.rs.html#26-28">source</a><h4 class="code-header">fn <a href="#method.indicator_components" class="fn">indicator_components</a>(&amp;self) -&gt; <a class="type" href="../re_types/loggable/type.ComponentNameSet.html" title="type re_types::loggable::ComponentNameSet">ComponentNameSet</a></h4></section></summary><div class="docblock"><p>These are not required, but if <em>any</em> of these are found, it is a strong indication that this
system should be active (if also the <code>required_components</code> are found).</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.heuristic_filter" class="method"><a class="srclink rightside" href="../src/re_viewer_context/space_view/view_part_system.rs.html#45-53">source</a><h4 class="code-header">fn <a href="#method.heuristic_filter" class="fn">heuristic_filter</a>(
    &amp;self,
    _store: &amp;<a class="struct" href="../re_arrow_store/store/struct.DataStore.html" title="struct re_arrow_store::store::DataStore">DataStore</a>,
    _ent_path: &amp;<a class="struct" href="../re_log_types/path/entity_path/struct.EntityPath.html" title="struct re_log_types::path::entity_path::EntityPath">EntityPath</a>,
    _query: &amp;<a class="struct" href="../re_arrow_store/store_read/struct.LatestAtQuery.html" title="struct re_arrow_store::store_read::LatestAtQuery">LatestAtQuery</a>,
    entity_components: &amp;<a class="type" href="../re_types/loggable/type.ComponentNameSet.html" title="type re_types::loggable::ComponentNameSet">ComponentNameSet</a>
) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.72.1/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Implements a filter to heuristically determine whether or not to instantiate the system.</p>
<p>If and when the system can be instantiated (i.e. because there is at least one entity that satisfies
the minimal set of required components), this method applies an arbitrary filter to determine whether
or not the system should be instantiated by default.</p>
<p>The passed-in set of <code>entity_components</code> corresponds to all the different components that have ever
been logged on the entity path.</p>
<p>By default, this returns true if eiher <a href="space_view/view_part_system/trait.ViewPartSystem.html#method.indicator_components"><code>Self::indicator_components</code></a> is empty or
<code>entity_components</code> contains at least one of these indicator components.</p>
<p>Override this method only if a more detailed condition is required to inform heuristics whether or not
the given entity is relevant for this system.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.data" class="method"><a class="srclink rightside" href="../src/re_viewer_context/space_view/view_part_system.rs.html#74-76">source</a><h4 class="code-header">fn <a href="#method.data" class="fn">data</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.72.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;dyn <a class="trait" href="https://doc.rust-lang.org/1.72.1/core/any/trait.Any.html" title="trait core::any::Any">Any</a>&gt;</h4></section></summary><div class="docblock"><p>Optionally retrieves a data store reference from the scene element.</p>
<p>This is useful for retrieving data that is common to several parts of a <a href="space_view/space_view_class/trait.SpaceViewClass.html" title="trait re_viewer_context::space_view::space_view_class::SpaceViewClass"><code>crate::SpaceViewClass</code></a>.
For example, if most scene parts produce ui elements, a concrete <a href="space_view/space_view_class/trait.SpaceViewClass.html" title="trait re_viewer_context::space_view::space_view_class::SpaceViewClass"><code>crate::SpaceViewClass</code></a>
can pick those up in its <a href="space_view/space_view_class/trait.SpaceViewClass.html#tymethod.ui" title="method re_viewer_context::space_view::space_view_class::SpaceViewClass::ui"><code>crate::SpaceViewClass::ui</code></a> method by iterating over all scene parts.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"></div><script src="../implementors/re_viewer_context/space_view/view_part_system/trait.ViewPartSystem.js" async></script></section></div></main></body></html>