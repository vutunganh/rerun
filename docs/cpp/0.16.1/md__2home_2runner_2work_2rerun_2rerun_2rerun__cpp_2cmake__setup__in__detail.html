<!-- HTML header for doxygen 1.9.7-->
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=11" />
  <meta name="generator" content="Doxygen 1.9.7" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rerun C++ SDK: CMake setup in detail</title>
  <link href="tabs.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
  <script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
  </script>
  <script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
  <script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
  </script>
</head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr id="projectrow">
              <td id="projectalign">
                <div id="projectname">Rerun C++ SDK
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md__2home_2runner_2work_2rerun_2rerun_2rerun__cpp_2cmake__setup__in__detail.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">CMake setup in detail</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md17">Download via FetchContent</a></li>
<li class="level1"><a href="#autotoc_md18">From Rerun repository</a></li>
<li class="level1"><a href="#autotoc_md19">CMake install</a></li>
<li class="level1"><a href="#autotoc_md20">CMake configuration options</a><ul><li class="level2"><a href="#autotoc_md21">RERUN_DOWNLOAD_AND_BUILD_ARROW</a></li>
<li class="level2"><a href="#autotoc_md22">RERUN_ARROW_LINK_SHARED</a></li>
<li class="level2"><a href="#autotoc_md23">RERUN_C_LIB</a></li>
<li class="level2"><a href="#autotoc_md24">RERUN_CPP_SOURCE_DIR</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="autotoc_md16"></a></p>
<p>The Rerun C++ SDK is meant to be built from source and everything described on this page will do just that. Its <a href="https://github.com/rerun-io/rerun/blob/latest/rerun_cpp/CMakeLists.txt">CMake build script</a> is ready to be used from outside of the Rerun repo.</p>
<h1><a class="anchor" id="autotoc_md17"></a>
Download via FetchContent</h1>
<p>By far the easiest way to add Rerun to your project is using <code>FetchContent</code>: </p><div class="fragment"><div class="line">include(FetchContent)</div>
<div class="line">FetchContent_Declare(rerun_sdk URL</div>
<div class="line">    https://github.com/rerun-io/rerun/releases/latest/download/rerun_cpp_sdk.zip)</div>
<div class="line">FetchContent_MakeAvailable(rerun_sdk)</div>
</div><!-- fragment --><p>This will download a bundle with pre-built Rerun C static libraries for most desktop platforms, all Rerun C++ sources and headers, as well as CMake build instructions for them. By default this will also download &amp; build <a href="https://arrow.apache.org/">Apache Arrow</a>'s C++ library which is required to build the Rerun C++. See <a class="el" href="md__2home_2runner_2work_2rerun_2rerun_2rerun__cpp_2arrow__cpp__install.html">Install arrow-cpp</a> to learn more about this step and how to use an existing install.</p>
<p>We recommend this <code>FetchContent</code> workflow for all usecases since it is the easiest and works without any additional configuration. All other workflows and configuration are there to best address more specific needs a project setup may haves.</p>
<h1><a class="anchor" id="autotoc_md18"></a>
From Rerun repository</h1>
<p>Alternatively, you can add the source of <code><a href="https://github.com/rerun-io/rerun/blob/latest/rerun_cpp/">https://github.com/rerun-io/rerun/blob/latest/rerun_cpp/</a></code> directly to your own project and then use <code>add_subdirectory</code>.</p>
<p>In this case you will also need to make sure the Rerun C static libraries are available for your target platforms.</p>
<p>Pre-built libraries can be downloaded from <a href="https://github.com/rerun-io/rerun/releases/latest">the release pages</a>.</p>
<p>If you want to match the behavior of <code>rerun_cpp_sdk.zip</code>, these libraries should be placed in the folder <code>rerun_cpp/lib</code>, renamed as:</p><ul>
<li>Linux, x64: <code>librerun_c__linux_x64.a</code></li>
<li>Linux, Arm64: <code>librerun_c__linux_arm64.a</code></li>
<li>Windows, x64: <code>rerun_c__win_x64.lib</code></li>
<li>Mac, Intel: <code>librerun_c__macos_x64.a</code></li>
<li>Mac, Apple Silicon: <code>librerun_c__macos_arm64.a</code></li>
</ul>
<p>Or if you have a different build/download mechanism, you can point directly to the library by setting <code>RERUN_C_LIB</code> before adding the subdirectory.</p>
<p>⚠️ Make sure <b>not</b> to add the root of the Rerun repository, as this will not only add many examples and tests but also make additional assumptions about your build environment. For example it will always try to build <code>rerun_c</code> (which the C++ SDK depends on) from its Rust source.</p>
<h1><a class="anchor" id="autotoc_md19"></a>
CMake install</h1>
<p>If you want to pre-build <code>rerun_sdk</code> for use with a different build system, or simply have a lot of projects using the same <code>rerun_sdk</code>, it can be useful to use CMake's install command to install a re-usable version of <code>rerun_sdk</code> on your system.</p>
<p>To do so, follow these following steps:</p><ul>
<li>Download and unpack the desired <code>rerun_cpp_sdk.zip</code> (e.g <a href="https://github.com/rerun-io/rerun/releases/latest/download/rerun_cpp_sdk.zip">https://github.com/rerun-io/rerun/releases/latest/download/rerun_cpp_sdk.zip</a> for the latest version)</li>
<li>In the directory of the unpacked <code>rerun_cpp_sdk</code> run:<ul>
<li>Configure:<ul>
<li><code>cmake -B build -S . -DCMAKE_BUILD_TYPE=Release</code></li>
</ul>
</li>
<li>Build:<ul>
<li><code>cmake --build build --config Release --target rerun_sdk</code></li>
</ul>
</li>
<li>Install:<ul>
<li><code>cmake --install build</code></li>
<li>make sure you have permissions or use a target path, e.g. <code>--prefix ../rerun_sdk_install</code></li>
</ul>
</li>
</ul>
</li>
<li>Now that you have an install you can use <code>find_package(rerun_sdk REQUIRED)</code> in your project<ul>
<li>Make sure that the prefix path or the rerun_sdk location is correctly configured.</li>
<li>Depending on your install path and OS this may work out of the box or require setting additional CMake variables (e.g. <code>-DCMAKE_PREFIX_PATH=rerun_sdk_install</code>)</li>
</ul>
</li>
</ul>
<p>The exact CMake invocations may need to be adjusted for your needs.</p>
<p>Naturally, you can also integrate <code>rerun_sdk</code>'s install into the install of your own libraries and executables. This is generally only recommended for more advanced CMake setups.</p>
<p>As mentioned previously, by default Rerun's CMake script will download and build Arrow during its build. Unless configured otherwise (see below) the resulting libraries are part of the <code>rerun_sdk</code> install. ⚠️ This does currently not work for dynamic Arrow libraries, i.e. if either one of <code>RERUN_DOWNLOAD_AND_BUILD_ARROW=OFF</code> or <code>RERUN_ARROW_LINK_SHARED=ON</code> is set, the install will use <code>find_package(Arrow)</code> to locate the Arrow library on your system.</p>
<h1><a class="anchor" id="autotoc_md20"></a>
CMake configuration options</h1>
<p>The C++ SDK provides a handful of configuration options. All of them come with meaningful defaults, so typically you don't have to change any of them, but they provide important hooks for more complex build setups.</p>
<p>Unless noted otherwise, a CMake install of <code>rerun_sdk</code> does <b>not</b> expose any of these options.</p>
<h2><a class="anchor" id="autotoc_md21"></a>
RERUN_DOWNLOAD_AND_BUILD_ARROW</h2>
<p>If enabled, will download a pinned version of the Apache Arrow C++ library and add it to the build. Otherwise, <code>find_package</code> will be used to search for a pre-installed Arrow library. For more information see the howto guide on <a class="el" href="md__2home_2runner_2work_2rerun_2rerun_2rerun__cpp_2arrow__cpp__install.html">installing arrow-cpp</a>.</p>
<p>Defaults to <code>ON</code>.</p>
<h2><a class="anchor" id="autotoc_md22"></a>
RERUN_ARROW_LINK_SHARED</h2>
<p>If enabled, will use a dynamically linked version of Arrow, otherwise links statically with it.</p>
<p>Defaults to <code>OFF</code>.</p>
<p>Although enabling shared libraries makes linking faster and reduces binary size, it can present some challenges related to locating the shared libraries at runtime. Depending on your system configuration it is even possible to pick up a system-version of Arrow instead of the one you built against.</p>
<p><code>rerun_sdk</code> installs that use a system installed Arrow library, can be configured using this option as well.</p>
<h2><a class="anchor" id="autotoc_md23"></a>
RERUN_C_LIB</h2>
<p>Path to the static Rerun C library to link against.</p>
<p><code>rerun_c</code> is a static library built from a <a href="https://github.com/rerun-io/rerun/tree/latest/crates/rerun_c">Rust crate</a>. It provides a minimalistic C interface that encapsulates the shared building blocks of all Rerun SDKs.</p>
<p>By default points to where a pre-built library for the currently active platform is expected to be found in the Rerun C++ SDK distribution zip.</p>
<h2><a class="anchor" id="autotoc_md24"></a>
RERUN_CPP_SOURCE_DIR</h2>
<p>Path to the Rerun include and source directory, i.e. the directory that contains <code><a class="el" href="rerun_8hpp_source.html">rerun.hpp</a></code>.</p>
<p>Note that Rerun does not have separate folders for header (*.hpp) and source (*.cpp) files, both are found inside <code>RERUN_CPP_SOURCE_DIR</code>.</p>
<p>By default is set to an absolute path that is determined by the location of Rerun's <code>CMakeLists.txt</code> itself. Setting this is rarely needed, but reading it may be useful for build setups that can not rely on the <code>rerun_cpp</code> target or for some reason aren't able to inherit the public target include path set on <code>rerun_cpp</code>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
